{"version":3,"sources":["assets/script/services/utils/utils_data.ts"],"names":[],"mappings":";;;;;;;AAAA,6CAA+C;AACvC,IAAA,CAAC,GAAQ,EAAE,EAAV,EAAE,CAAC,GAAK,EAAE,EAAP,CAAQ;AAGP,QAAA,SAAS,GAAG;IACtB,IAAI,EAAJ,UAAK,UAAe,EAAE,QAAmB;QACtC,IAAI,MAAM,CAAC,WAAW,CAAC,EAAE;YACtB,SAAS,CAAC,MAAM,CAAC,YAAY,CAAC,UAAU,CAAC,CAAC,IAAI,CAC3C,cAAQ,IAAI,QAAQ;gBAAE,QAAQ,EAAE,CAAC,CAAC,CAAC,EACnC,UAAC,CAAC,IAAK,OAAA,OAAO,CAAC,IAAI,CAAC,gCAAgC,EAAE,CAAC,CAAC,EAAjD,CAAiD,CAC1D,CAAC,KAAK,CACJ,UAAC,CAAC,IAAK,OAAA,OAAO,CAAC,IAAI,CAAC,wCAAwC,EAAE,CAAC,CAAC,EAAzD,CAAyD,CAClE,CAAC;SACJ;QAED,qDAAqD;aAChD;YACF,KAAK,IAAI,GAAG,IAAI,UAAU;gBAAE,YAAY,CAAC,OAAO,CAAC,GAAG,EAAE,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;YACvF,UAAU,CAAC,cAAQ,IAAI,QAAQ;gBAAE,QAAQ,EAAE,CAAC,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC;SACvD;IACJ,CAAC;IAGD,IAAI,EAAJ,UAAK,MAAgB,EAAE,QAAmB;QACvC,IAAI,MAAM,CAAC,WAAW,CAAC,EAAE;YACtB,SAAS,CAAC,MAAM,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,UAAA,IAAI;gBAC5C,IAAI,QAAQ;oBAAE,QAAQ,CAAC,IAAI,CAAC,CAAC;YAChC,CAAC,CAAC,CAAC;SACL;QAED,qDAAqD;aAChD;YACF,IAAM,SAAO,GAAG,EAAE,CAAC;YACnB,MAAM,CAAC,GAAG,CAAC,UAAA,GAAG;gBACX,IAAI,YAAY,CAAC,OAAO,CAAC,GAAG,CAAC,KAAK,IAAI;oBAAE,OAAO;gBAC/C,IAAI;oBACD,SAAO,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC;iBACvD;gBAAC,OAAO,CAAC,EAAE;oBACT,OAAO,CAAC,IAAI,CAAC,4CAA0C,GAAG,MAAG,EAAE,CAAC,CAAC,CAAA;iBACnE;YACJ,CAAC,CAAC,CAAC;YACH,IAAI,QAAQ;gBAAE,UAAU,CAAC,cAAM,OAAA,QAAQ,CAAC,SAAO,CAAC,EAAjB,CAAiB,EAAE,GAAG,CAAC,CAAC;SACzD;IACJ,CAAC;IAED,iBAAiB;QACd,OAAO,MAAM,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,iBAAiB,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;IAC3E,CAAC;CACH,CAAA;AACA,CAAC","file":"","sourceRoot":"/","sourcesContent":["import * as _G from '../../system/all_modules';\nconst { _, $ } = _G;\n\n\nexport const utilsData = {\n   save(dataObject: any, callback?: Function) {\n      if (window['FBInstant']) {\n         FBInstant.player.setDataAsync(dataObject).then(\n            () => { if (callback) callback(); },\n            (e) => console.warn(` utils_data >> save >> failed `, e)\n         ).catch(\n            (e) => console.warn(` utils_data >> save >> failed (catch) `, e)\n         );\n      }\n\n      // Simulate facebook data at local using localStorage\n      else {\n         for (let key in dataObject) localStorage.setItem(key, JSON.stringify(dataObject[key]));\n         setTimeout(() => { if (callback) callback(); }, 300);\n      }\n   },\n\n\n   load(keyArr: string[], callback?: Function) {\n      if (window['FBInstant']) {\n         FBInstant.player.getDataAsync(keyArr).then(data => {\n            if (callback) callback(data);\n         });\n      }\n\n      // Simulate facebook data at local using localStorage\n      else {\n         const dataObj = {};\n         keyArr.map(key => {\n            if (localStorage.getItem(key) === null) return;\n            try {\n               dataObj[key] = JSON.parse(localStorage.getItem(key));\n            } catch (e) {\n               console.warn(` utilsData.load() >> Error  data key = ${key} `, e)\n            }\n         });\n         if (callback) setTimeout(() => callback(dataObj), 100);\n      }\n   },\n\n   getEntryPointData() {\n      return window['FBInstant'] ? (FBInstant.getEntryPointData() || {}) : {};\n   }\n}\n};"]}